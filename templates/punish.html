<!--申报管理 纪律处分-->

<div class="panel panel-default">
    <div class="panel-heading">
        违纪处分
    </div>
    <div class="panel-body">
        <div class="form-group">

            <label class="col-md-1 control-label">被处分人:</label>
            <div class="col-md-2">
                <input type="text" class="form-control" ng-model="punishStaff" placeholder="Name"/>

            </div>
            <div class="col-md-1">
                <button type="button" class="btn btn-primary" ng-click="punishFind()">查询</button>
            </div>
            <div class="col-md-6"></div>
            <div class="col-md-1">
                <!--<button type="button" class="btn btn-primary">添加</button>-->
                <button type="button" class="btn btn-primary " data-toggle="modal" data-target="#myModalAdd"
                        ng-click="punishAdd()">添加
                </button>
            </div>
            <div class="clear"></div>
        </div>


        <div class="tab">
            <table class="table table-striped table-bordered" id="dataTable">
                <thead>
                <tr>
                    <td>
                        <div class="btn-group">
                            <a>被通报人:</a>
                            <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                               aria-expanded="false">
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li ng-click="order('staff',1)"><a>正序</a></li>
                                <li ng-click="order('staff',-1)"><a>倒序</a></li>
                                <li class="dropdown-submenu"><a>列</a>
                                    <ul class="dropdown-menu pull-right">
                                        <li><input type="checkbox">被通报的人</li>
                                        <li><input type="checkbox">被通报人的部门</li>
                                        <li><input type="checkbox">标题</li>
                                        <li><input type="checkbox">时间</li>
                                        <li><input type="checkbox">action</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </td>
                    <td>
                        <div class="btn-group">
                            <a>被通报人部门:</a>
                            <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                               aria-expanded="false">
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li ng-click="order('staffOrgName',1)"><a>正序</a></li>
                                <li ng-click="order('staffOrgName',-1)"><a>倒序</a></li>
                                <li class="dropdown-submenu"><a href="#">列</a>
                                    <ul class="dropdown-menu pull-right">
                                        <li><input type="checkbox">被通报的人</li>
                                        <li><input type="checkbox">被通报人的部门</li>
                                        <li><input type="checkbox">标题</li>
                                        <li><input type="checkbox">时间</li>
                                        <li><input type="checkbox">action</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </td>
                    <td>
                        <div class="btn-group">
                            <a>标题</a>
                            <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                               aria-expanded="false">
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li ng-click="order('title',1)"><a>正序</a></li>
                                <li ng-click="order('title',-1)"><a>倒序</a></li>
                                <li class="dropdown-submenu"><a>列</a>
                                    <ul class="dropdown-menu pull-right">
                                        <li><input type="checkbox">被通报的人</li>
                                        <li><input type="checkbox">被通报人的部门</li>
                                        <li><input type="checkbox">标题</li>
                                        <li><input type="checkbox">时间</li>
                                        <li><input type="checkbox">action</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </td>
                    <td>
                        <div class="btn-group">
                            <a>时间</a>
                            <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                               aria-expanded="false">
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li ng-click="order('createTime',1)"><a>正序</a></li>
                                <li ng-click="order('createTime',-1)"><a>倒序</a></li>
                                <li class="dropdown-submenu"><a >列</a>
                                    <ul class="dropdown-menu pull-right">
                                        <li><input type="checkbox">被通报的人</li>
                                        <li><input type="checkbox">被通报人的部门</li>
                                        <li><input type="checkbox">标题</li>
                                        <li><input type="checkbox">时间</li>
                                        <li><input type="checkbox">action</li>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </td>
                    <td>
                        <div class="btn-group">
                            <a>操作</a>
                            <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                               aria-expanded="false">
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a>正序</a></li>
                                <li><a>倒序</a></li>
                                <li class="dropdown-submenu"><a>列</a>
                                    <ul class="dropdown-menu pull-right">
                                        <li><input type="checkbox">被通报的人</li>
                                        <li><input type="checkbox">被通报人的部门</li>
                                        <li><input type="checkbox">标题</li>
                                        <li><input type="checkbox">时间</li>
                                        <li><input type="checkbox">action</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </td>

                </tr>
                </thead>
                <tbody>

                <tr ng-repeat="punish in punishContentList">
                    <td ng-bind="punish.staff"></td>
                    <td ng-bind="punish.staffOrgName"></td>
                    <td ng-bind="punish.title"></td>
                    <td ng-bind="punish.createTime"></td>
                    <td>
                        <button type="button" class="btn btn-primary btn-xs" data-toggle="modal" data-target="#myModal"
                                ng-click="punishRevise()">修改
                        </button>
                        <button type="button" class="btn btn-danger btn-xs" data-toggle="modal"
                                data-target="#modalDelete" ng-click="punishDelBut()">删除
                        </button>
                    </td>
                </tr>


                </tbody>
            </table>

        </div><!-- /main-container -->

        <!--添加-->
        <div class="modal fade" id="myModalAdd" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">添加</h4>
                    </div>
                    <form name="addForm" class="modal-body form-horizontal" role="form" novalidate>
                        <div class="form-group" ng-class="{'has-error':addForm.$submitted&&addForm.punTitle.$error.required}">
                            <div class="col-xs-2 text-center"><label class="control-label">标题:</label></div>
                            <div class="col-xs-10"><input name="punTitle" ng-model="punishTitle" class="form-control" type="text" required/>
                            </div>
                        </div>
                        <div class="form-group" ng-class="{'has-error':addForm.$submitted&&addForm.punStaff.$error.required}">
                            <div class="col-xs-2 text-center"><label class="control-label">人员:</label></div>
                            <div class="col-xs-10"><input name="punStaff" ng-model="punishAddStaff" class="form-control" type="text" required/>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-xs-2 text-center"><label class="control-label">部门:</label></div>
                            <div class="col-xs-10">
                                <select class="form-control" ng-model="punishSelectMake"
                                        ng-options="selects.id as selects.name for selects in punishSelect">

                                </select>
                            </div>
                        </div>
                        <br><br>
                        <div class="form-group" ng-class="{'has-error':addForm.$submitted&&addForm.punContent.$error.required}">
                            <div class="col-xs-2  text-center"><label class="control-label">内容:</label></div>
                            <div class="col-xs-10"><textarea name="punContent" class="form-control" rows="3"
                                                             ng-model="punishContent" required></textarea></div>
                        </div>

                        <div class="modal-footer">
                            <input type="submit" name="sub" class="btn btn-default" ng-click="(addForm.$invalid?'':punishAddMake())"
                                    data-dismiss="{{addForm.$invalid?'':'modal'}}" value="确定" />
                        </div>
                    </form>


                </div>
            </div>
        </div>




        <!--修改-->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="ModalOKLabel">纪律处分</h4>
                    </div>
                    <form class="modal-body form-horizontal" role="form">
                        <div class="form-group">
                            <div class="col-xs-2 text-center"><label class="control-label">标题:</label></div>
                            <div class="col-xs-10"><input ng-model="punishTitle" class="form-control" type="text"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-xs-2 text-center"><label class="control-label">人员:</label></div>
                            <div class="col-xs-10"><input ng-model="punishStaff" class="form-control" type="text"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-xs-2 text-center"><label class="control-label">部门:</label></div>
                            <div class="col-xs-10">
                                <select class="form-control" ng-model="punishSelectMake"
                                        ng-options="selects.id as selects.name for selects in punishSelect">

                                </select>
                            </div>
                        </div>
                        <br><br>
                        <div class="form-group">
                            <div class="col-xs-2  text-center"><label class="control-label">内容:</label></div>
                            <div class="col-xs-10"><textarea class="form-control" rows="3"
                                                             ng-model="punishContent"></textarea></div>
                        </div>
                    </form>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" ng-click="punishMake()" data-dismiss="modal">确定
                        </button>
                    </div>
                </div>
            </div>
        </div>


        <!--删除模态框-->
        <div class="modal fade" id="modalDelete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">删除</h4>
                    </div>


                    <h2 style="margin-left: 20%">确认删除此条记录？</h2>


                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                        <button type="button" class="btn btn-default" ng-click="punishDelete()" data-dismiss="modal">
                            确定
                        </button>
                    </div>
                </div>
            </div>
        </div>


    </div>
    <div class="panel-footer">
        <span>
        <i class="btn fa fa-step-backward fa-lg fa-fw" ng-click="punishFirstPage()"></i>
        <i class="btn fa fa-caret-left fa-lg fa-fw" ng-click="punishUpPage()"></i>
        &nbsp  | &nbsp 第 {{punishNowPage}} 页，共{{punishPage}}页 &nbsp | &nbsp
        <i class="btn fa fa-caret-right fa-lg fa-fw" ng-click="punishDownPage()"></i>
        <i class="btn fa fa-step-forward fa-lg fa-fw" ng-click="punishLastPage()"></i>
        &nbsp | &nbsp
        <i class="btn fa fa-refresh fa-lg fa-fw"></i>
        </span>
        <span>显示1-{{punishPageLimit}}条，共{{punishPageTotal}}条</span>
    </div>
</div>